# RSA Accumlator App

This is a version from the blog [https://blog.cyborch.com/how-to-use-cryptographic-accumulators-to-prove-set-membership-without-exposing-the-set-or-the-member/](https://blog.cyborch.com/how-to-use-cryptographic-accumulators-to-prove-set-membership-without-exposing-the-set-or-the-member/) that I am experimenting with.

## Build and start instance

```bash
mvn clean package
java -jar target\rsa-accumulator-app-0.0.1-SNAPSHOT-jar-with-dependencies.jar
```

## Execution

1. Add something to the accumaltor

   ```bash
   curl --location --request PUT 'http://localhost:7000/add/1234567890'
   ```

   returns

   ```bash
   {
        "first": 404624613284704931244650808108195467219670681919183765799455523713448398915679095689282387056118714667324045645418033789836478865008310678347589242691965343567098019315470880054834797071875519027450079661805748833919245922334429381105104086073856155047917487441638890851422861316141094248396517789344253593043992547057577278295993448611884694465110681996,
        "second": 7978181048947829576659213700514585287
   }
   ```

1. Get the commitment

   ```bash
   curl --location --request GET 'http://localhost:7000/commitment'
   ```

   returns

   ```bash
   8349220922166338688666000287496205072823552399828170770253369117483808040410154887238585163276207409183493560519256362821863761219843652244340161278866385669845928000051971564527251990228761909936703752422773243244485211183061811214697438290880068120952861878031675425862207699362043225366526268978466624537852527061311742933998428048840261611888400821956698946846116142985179952255047935441608678178255901051027330722081371729690606241454392867348741946460675807017707687790128046368417069167883043711565195030813980720428465510422212118259668217489007928029940236690133075595007743024396805361263471384066195544913
   ```

1. Verify the proof

   ```bash
    curl --location --request POST 'http://localhost:7000/verify' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "first": 404624613284704931244650808108195467219670681919183765799455523713448398915679095689282387056118714667324045645418033789836478865008310678347589242691965343567098019315470880054834797071875519027450079661805748833919245922334429381105104086073856155047917487441638890851422861316141094248396517789344253593043992547057577278295993448611884694465110681996,
        "second": 7978181048947829576659213700514585287,
        "commitment": 8349220922166338688666000287496205072823552399828170770253369117483808040410154887238585163276207409183493560519256362821863761219843652244340161278866385669845928000051971564527251990228761909936703752422773243244485211183061811214697438290880068120952861878031675425862207699362043225366526268978466624537852527061311742933998428048840261611888400821956698946846116142985179952255047935441608678178255901051027330722081371729690606241454392867348741946460675807017707687790128046368417069167883043711565195030813980720428465510422212118259668217489007928029940236690133075595007743024396805361263471384066195544913
    }'
   ```

   returns

   ```bash
   true
   ```    

## add a new value and test the old proof

1. Add something to the accumaltor

   ```bash
   curl --location --request PUT 'http://localhost:7000/add/123456'
   ```

   returns

   ```bash
   {
        "first": 8349220922166338688666000287496205072823552399828170770253369117483808040410154887238585163276207409183493560519256362821863761219843652244340161278866385669845928000051971564527251990228761909936703752422773243244485211183061811214697438290880068120952861878031675425862207699362043225366526268978466624537852527061311742933998428048840261611888400821956698946846116142985179952255047935441608678178255901051027330722081371729690606241454392867348741946460675807017707687790128046368417069167883043711565195030813980720428465510422212118259668217489007928029940236690133075595007743024396805361263471384066195544913,
        "second": 850053721936077662777979922283815583
   }
   ```

1. Get the commitment

   ```bash
   curl --location --request GET 'http://localhost:7000/commitment'
   ```

   returns

   ```bash
   21641856236805580956487119152277748686194123729009652823274476176118720647756071673395723668504706560422795760422691629539590521354527395553266794108667876686354440870596871605857959842979963976132402847722567338495012774231323084690992356907263595368739317237417770770947888555994126672191178716737275056182827830778182072675973149901095456628261544952438226107526525829751936289312012357046894186529714354532566697404528672791798481256051606868991108914459403477582994298851012187442046608701330066405679239141254208685866912823307408074459426623261284397354209276981705688031071918037289529982553273746371032451922
   ```

1. Verify the proof

   ```bash
    curl --location --request POST 'http://localhost:7000/verify' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "first": 404624613284704931244650808108195467219670681919183765799455523713448398915679095689282387056118714667324045645418033789836478865008310678347589242691965343567098019315470880054834797071875519027450079661805748833919245922334429381105104086073856155047917487441638890851422861316141094248396517789344253593043992547057577278295993448611884694465110681996,
        "second": 7978181048947829576659213700514585287,
        "commitment": 21641856236805580956487119152277748686194123729009652823274476176118720647756071673395723668504706560422795760422691629539590521354527395553266794108667876686354440870596871605857959842979963976132402847722567338495012774231323084690992356907263595368739317237417770770947888555994126672191178716737275056182827830778182072675973149901095456628261544952438226107526525829751936289312012357046894186529714354532566697404528672791798481256051606868991108914459403477582994298851012187442046608701330066405679239141254208685866912823307408074459426623261284397354209276981705688031071918037289529982553273746371032451922
    }'
   ```

   returns

   ```bash
   false
   ```  

## Try with latest proof

1. Verify the proof

   ```bash
    curl --location --request POST 'http://localhost:7000/verify' \
    --header 'Content-Type: application/json' \
    --data-raw '{
        "first": 8349220922166338688666000287496205072823552399828170770253369117483808040410154887238585163276207409183493560519256362821863761219843652244340161278866385669845928000051971564527251990228761909936703752422773243244485211183061811214697438290880068120952861878031675425862207699362043225366526268978466624537852527061311742933998428048840261611888400821956698946846116142985179952255047935441608678178255901051027330722081371729690606241454392867348741946460675807017707687790128046368417069167883043711565195030813980720428465510422212118259668217489007928029940236690133075595007743024396805361263471384066195544913,
        "second": 850053721936077662777979922283815583,
        "commitment": 21641856236805580956487119152277748686194123729009652823274476176118720647756071673395723668504706560422795760422691629539590521354527395553266794108667876686354440870596871605857959842979963976132402847722567338495012774231323084690992356907263595368739317237417770770947888555994126672191178716737275056182827830778182072675973149901095456628261544952438226107526525829751936289312012357046894186529714354532566697404528672791798481256051606868991108914459403477582994298851012187442046608701330066405679239141254208685866912823307408074459426623261284397354209276981705688031071918037289529982553273746371032451922
    }'
   ```

   returns

   ```bash
   true
   ```  